//# sourceMappingURL=eoi-form.js.map
var process=process||{env:{NODE_ENV:"development"}};
(function(c){c(function(){var h=c("#express-form");if(0<h.length){c.validator.addMethod("maxfilesize",function(a,b,d){return this.optional(b)||b.files[0].size<=d},"File size must be less than {0} bytes");c.validator.addMethod("accept",function(a,b,d){a=function(){var e=!1;null!=d&&null!=b&&c.each(d.split(","),function(k,f){f.trim()===b.files[0].type.trim()&&(e=!0)});return e};return this.optional(b)||a()},h.find(".fileUpload__input").data("msg-allowed-content")||"Only JPG, JPEG, PNG and PDF are allowed.");
h.validate({ignore:[],errorElement:"div",errorClass:"invalid-feedback",onkeyup:!1,onfocusout:!1,highlight:function(a){a=c(a);a.addClass("is-invalid").closest(".form-group, .mb-3").addClass("is-invalid");a.hasClass("select2-hidden-accessible")&&a.next(".select2").find(".select2-selection").addClass("is-invalid");(a.hasClass("date-picker__date")||a.closest(".js-date-picker").length)&&a.closest(".js-date-picker").addClass("is-invalid");if(a.is(":checkbox")||a.is(":radio")||a.hasClass("js-eoi-checkbox"))a=
a.attr("name"),h.find(`:checkbox[name="${a}"], :radio[name="${a}"]`).last().closest(".form-group, .mb-3").addClass("is-invalid")},unhighlight:function(a){a=c(a);a.removeClass("is-invalid").closest(".form-group, .mb-3").removeClass("is-invalid");a.hasClass("select2-hidden-accessible")&&a.next(".select2").find(".select2-selection").removeClass("is-invalid");(a.hasClass("date-picker__date")||a.closest(".js-date-picker").length)&&a.closest(".js-date-picker").removeClass("is-invalid");if(a.is(":checkbox")||
a.is(":radio")||a.hasClass("js-eoi-checkbox"))a=a.attr("name"),a=h.find(`:checkbox[name="${a}"], :radio[name="${a}"]`),a.last().closest(".form-group, .mb-3").toggleClass("is-invalid",!a.is(":checked"))},errorPlacement:function(a,b){b=c(b);b.hasClass("select2-hidden-accessible")?a.appendTo(b.parent()):b.hasClass("fileUpload__input")||b.hasClass("js-interest-file")?a.appendTo(b.closest(".js-interest-group")):b.hasClass("date-picker__date")||b.closest(".js-date-picker").length?a.appendTo(b.closest(".form-group, .mb-3")):
b.is(":checkbox")||b.is(":radio")||b.hasClass("js-eoi-checkbox")?(b=b.attr("name"),b=h.find(`:checkbox[name="${b}"], :radio[name="${b}"]`).last().closest(".form-group, .mb-3"),b.find("div.invalid-feedback").remove(),a.appendTo(b)):a.insertAfter(b)}});c(".interest-retype-email").each(function(){c(this).rules("add",{equalTo:".interest-email"})});c(".interest-digit").each(function(){c(this).rules("add",{digits:!0})});var g=c(".js-enable-other");g.find("input").attr("disabled",!0);g.hide();c(".js-eoi-select").on("change",
function(){var a=c(this);"enableOther"===a.val()?(g.find("input").attr("disabled",!1),g.find("input").attr("data-rule-required",!0),a.attr("data-rule-required","false"),g.show()):(g.find("input").attr("disabled",!0),g.find("input").attr("data-rule-required",!1),a.attr("data-rule-required","true"),g.hide())});var l=c("#general-form-submit"),m=l.html();c(document).on("submit",".js-express-form",function(a){a.preventDefault();setButtonLoading(l);var b=c(this);a=b.attr("action");var d=c("#recaptcha").attr("data-widget-id"),
e="undefined"!==typeof grecaptcha&&d?grecaptcha.getResponse(d):"",k=new FormData(b[0]);e&&k.set("captchaResponse",e);k.append("formSourceUrl",window.location.href);b.find('input[name="isSubmit"]').val("true");k.set("isSubmit","true");c.ajax({method:"POST",url:a,data:k,processData:!1,contentType:!1,dataType:"json",success:function(f){resetButtonLoading(l,m);f&&!0===f.success?(f=c("#modalSuccess"),f.on("hidden.bs.modal",function(){window.location.reload()}),f.modal("show")):"undefined"!==typeof grecaptcha&&
d&&grecaptcha.reset(d)},error:function(f){resetButtonLoading(l,m);400===f.status?b.displayServerValidationErrors(f.responseJSON):c("#modalError").modal("show");"undefined"!==typeof grecaptcha&&d&&grecaptcha.reset(d)}})});c(document).ready(function(){n(h)});function n(a){a.find(".checkbox").each(function(){var b=10;"undefined"===typeof b&&(b=10);for(var d="",e=0;e<b;e++)d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));b=d;d=c(this).find("input:checkbox");
e=c(this).find("label");d.prop("id","checkbox-"+b);e.prop("for","checkbox-"+b)})}}})})(jQuery);